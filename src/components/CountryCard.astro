---
import Card from './ui/Card.astro';
import { getTranslations, type SupportedLang } from '../lib/i18n';

interface Props {
  country: string;
  recipientCount: number;
  flag: string;
  lang?: SupportedLang;
}

const { country, recipientCount, flag, lang = 'en' } = Astro.props;
const i18n = getTranslations(lang);
const countryName = i18n.countries[country as keyof typeof i18n.countries] || country;
const baseUrl = lang === 'en' ? '' : `/${lang}`;
---

<Card 
  href={`${baseUrl}/${country}`} 
  variant="bordered" 
  padding="lg"
  class="group min-h-[44px]"
>
  <div class="flex items-center gap-md">
    <span class="text-4xl" role="img" aria-label={countryName}>
      {flag}
    </span>
    <div class="flex-1">
      <h3 class="text-lg font-semibold text-text group-hover:text-primary transition-colors">
        {countryName}
      </h3>
      <p class="text-sm text-text/60">
        {recipientCount} {i18n.recipients.journalist.toLowerCase()}s
      </p>
    </div>
    <span class="text-text/40 group-hover:text-primary group-hover:translate-x-1 rtl:group-hover:-translate-x-1 transition-all">
      â†’
    </span>
  </div>
</Card>

